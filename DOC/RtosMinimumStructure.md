# 一个最小RTOS需要哪些东西
<!-- TOC -->

- [一个最小RTOS需要哪些东西](#一个最小rtos需要哪些东西)
    - [系统要求](#系统要求)
        - [调度方式为抢占式调度](#调度方式为抢占式调度)
        - [栈生长方向](#栈生长方向)
    - [1、需要一个能运行的裸机程序](#1需要一个能运行的裸机程序)
    - [2、首先实现最基本任务切换功能](#2首先实现最基本任务切换功能)
        - [任务控制块TCB](#任务控制块tcb)
        - [就绪任务表](#就绪任务表)
        - [系统心跳（时钟节拍）](#系统心跳时钟节拍)
        - [任务栈结构](#任务栈结构)

<!-- /TOC -->

## 系统要求  
### 调度方式为抢占式调度  
调度的概念，通俗的说就是系统在多个任务中选择合适的任务执行。系统如何知道何时该执行哪个任务？可以为每个任务安排一唯一的优先级别，当同时有 多个任务就绪时，优先运行优先级较高的任务。  
  
所谓“抢占式调度 ”是指一旦就绪状态中出现优先权更高的任务，便立即剥夺当前任务的运行权，把把CPU分配给更高优先级的任务。样这样CPU总是执行处于就绪条件下优先级最高的任务。  

### 栈生长方向  
本项目采用的芯片是STM32F103ZET,栈生长方向向下。  

## 1、需要一个能运行的裸机程序  
一个能点亮LED的程序

## 2、首先实现最基本任务切换功能  
### 任务控制块TCB  
- 当前任务的状态（就绪，执行，阻塞）  
- 任务的优先级  
- 阻塞节拍数  
- 任务保存的栈顶指针指向任务栈。
（每个任务又要有一个自己的任务栈）  


### 就绪任务表  
- 采用一个32位的数据，每个位代表对应任务的优先级  

### 系统心跳（时钟节拍） 
采用一个定时器产生时钟节拍  

### 任务栈结构  


